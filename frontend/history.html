<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AgroScan | Past Diagnoses</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body class="bg-green-50 text-gray-800 min-h-screen" id="mainContent">
    <main class="flex-grow">
    <!-- General Navbar  -->
    <nav
      id="guestNavbar"
      class="w-full flex justify-center items-center bg-white px-6 py-4 shadow-md  top-0 z-50 text-center"
    >
      <div class="flex items-center">
        <span class="text-2xl">ðŸŒ¿</span>
        <h1 class="text-xl font-bold text-green-700 text-center">AgroScan</h1>
      </div>
    </nav>
    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="w-64 bg-gradient-to-b from-green-700 to-green-900 text-white min-h-screen p-6 space-y-8 transition-transform duration-300 transform -translate-x-full md:block fixed md:relative z-40 fixed top-0 left-0 w-64 h-full mt-16 md:rounded-tr-xl md:shadow-lg"
    >
      <!-- Close Button (visible on mobile only) -->
      <button
        id="closeSidebar"
        class="md:hidden text-green-300 hover:bg-green-500 text-xl absolute top-4 right-4 focus:outline-none shadow-md rounded-full p-2 transition duration-300"
      >
        âœ–
      </button>

      <div class="text-2xl font-bold">ðŸŒ¿ AgroScan</div>
      <nav class="space-y-4 mt-6">
        <a
          href="diagnosis.html"
          class="flex items-center gap-3 bg-green-800/40 hover:bg-green-800 transition px-4 py-3 rounded-xl shadow-md text-white hover:text-yellow-500"
        >
          <i data-lucide="microscope" class="w-5 h-5"></i>
          <span>New Diagnosis</span>
        </a>

        <a
          href="history.html"
          class="flex items-center gap-3 bg-green-800/20 hover:bg-green-800 transition px-4 py-3 rounded-xl shadow-md text-white hover:text-yellow-500"
        >
          <i data-lucide="folder-search" class="w-5 h-5"></i>
          <span>Past Diagnoses</span>
        </a>

        <a
          href="profile.html"
          class="flex items-center gap-3 bg-green-800/40 hover:bg-green-800 transition px-4 py-3 rounded-xl shadow-md text-white hover:text-yellow-500"
        >
          <i data-lucide="user" class="w-5 h-5"></i>
          <span>Profile</span>
        </a>

        <a
          href="settings.html"
          class="flex items-center gap-3 bg-green-800/40 hover:bg-green-800 transition px-4 py-3 rounded-xl shadow-md text-white hover:text-yellow-500"
        >
          <i data-lucide="settings" class="w-5 h-5"></i>
          <span>Settings</span>
        </a>

        <div
          class="mt-auto text-sm text-green-100 border-t border-green-600 pt-4"
        >
          ðŸŒ¿ Connected. Ready to scan.
        </div>
      </nav>
    </aside>

    <div class="flex-1 p-6 md:p-10 ml-0 md:ml-64 w-full mt-16 md:mt-24">
      <!-- Toggle Button -->
      <button
        id="toggleBtn"
        class="md:hidden bg-green-700 text-white  px-4 py-2 rounded-md shadow hover:bg-green-800"
      >
        â˜° Menu
      </button>
      <!-- <h2 class="text-3xl font-bold text-green-700 mb-4 text-center mt-3">Past Diagnoses</h2> -->
    </div>

    <section class="p-4 max-w-3xl mx-auto mt-3">
      <h2 class="text-2xl font-bold text-green-700 mb-4">Past Diagnoses</h2>
    <div class="diagnosis-cards">
      <!-- Diagnosis Cards -->
      <div
        class="bg-white shadow-md rounded-lg p-4 mb-4 border-l-4 border-green-500 animate-pulse"
      >
        <div class="flex justify-between items-center mb-2">
          <h3
            class="text-lg font-semibold text-gray-500 h-4 w-1/2"
            class="diagnosisTitle"
          >
            &nbsp;
          </h3>
          <span class="text-sm text-gray-500 w-1/2 h-1" class="diagnosisDate"
            >&nbsp;</span
          >
        </div>
        <p class="text-gray-600 text-sm mb-2" class="diagnosisDescription">
          &nbsp;
        </p>
        <a
          href="diagnosis-detail.html?id=123"
          class="text-green-700 text-sm hover:underline font-bold"
          class="diagnosisDetails"
          >View Details</a
        >
      </div>

      <div
        class="bg-white shadow-md rounded-lg p-4 mb-4 border-l-4 border-green-500 animate-pulse"
      >
        <div class="flex justify-between items-center mb-2">
          <h3
            class="text-lg font-semibold text-gray-500 h-4 w-1/2"
            class="diagnosisTitle"
          >
            &nbsp;
          </h3>
          <span class="text-sm text-gray-500 w-1/2 h-1" class="diagnosisDate"
            >&nbsp;</span
          >
        </div>
        <p class="text-gray-600 text-sm mb-2" class="diagnosisDescription">
          &nbsp;
        </p>
        <a
          href="diagnosis-detail.html?id=123"
          class="text-green-700 text-sm hover:underline font-bold"
          class="diagnosisDetails"
          >View Details</a
        >
      </div>

      <div
        class="bg-white shadow-md rounded-lg p-4 mb-4 border-l-4 border-green-500 animate-pulse"
      >
        <div class="flex justify-between items-center mb-2">
          <h3
            class="text-lg font-semibold text-gray-500 h-4 w-1/2"
            class="diagnosisTitle"
          >
            &nbsp;
          </h3>
          <span class="text-sm text-gray-500 w-1/2 h-1" class="diagnosisDate"
            >&nbsp;</span
          >
        </div>
        <p class="text-gray-600 text-sm mb-2" class="diagnosisDescription">
          &nbsp;
        </p>
        <a
          href="diagnosis-detail.html?id=123"
          class="text-green-700 text-sm hover:underline font-bold"
          class="diagnosisDetails"
          >View Details</a
        >
      </div>

      <div
        class="bg-white shadow-md rounded-lg p-4 mb-4 border-l-4 border-green-500 animate-pulse"
      >
        <div class="flex justify-between items-center mb-2">
          <h3
            class="text-lg font-semibold text-gray-500 h-4 w-1/2"
            class="diagnosisTitle"
          >
            &nbsp;
          </h3>
          <span class="text-sm text-gray-500 w-1/2 h-1" class="diagnosisDate"
            >&nbsp;</span
          >
        </div>
        <p class="text-gray-600 text-sm mb-2" class="diagnosisDescription">
          &nbsp;
        </p>
        <a
          href="diagnosis-detail.html?id=123"
          class="text-green-700 text-sm hover:underline font-bold"
          class="diagnosisDetails"
          >View Details</a
        >
      </div>
    </div>
    </section>
  </main>
  <!-- Footer  -->
  <footer class="bottom-0 w-full bg-white shadow-md mt-6 left-0 md:ml-64">
    <div class="max-w-screen-xl mx-auto p-6 text-center rounded-t-xl left-0">
      <p class="text-gray-600 text-sm font-semibold">
        &copy; 2025 AgroScan. All rights reserved.
      </p>
    </div>
  </footer>
  </body>

  <script>
    const toggleBtn = document.getElementById("toggleBtn");
    const sidebar = document.getElementById("sidebar");
    const closeBtn = document.getElementById("closeSidebar");

    toggleBtn.addEventListener("click", () => {
      sidebar.classList.toggle("-translate-x-full");
    });

    closeBtn.addEventListener("click", () => {
      sidebar.classList.add("-translate-x-full");
    });
    const diagnosisTitle = document.getElementById("diagnosisTitle");
    const diagnosisDate = document.getElementById("diagnosisDate");
    const diagnosisDescription = document.getElementById(
      "diagnosisDescription"
    );
    const diagnosisDetails = document.getElementById("diagnosisDetails");

      const diagnosisDataArray = [
    {
      title: "Tomato Leaf Spot",
      date: "April 20, 2025",
      summary:
        "Detected early symptoms of fungal infection. Recommended copper-based treatment.",
      id: 1,
    },
    {
      title: "Cassava Mosaic Virus",
      date: "April 18, 2025",
      summary:
        "Viral infection detected. Isolate affected crops to reduce spread.",
      id: 2,
    },
    {
      title: "Potato Late Blight",
      date: "April 15, 2025",
      summary:
        "High confidence in late blight based on leaf pattern recognition.",
      id: 3,
    },
    {
    title: "Corn Rootworm Infestation",
      date: "April 10, 2025",
      summary:
        "Detected root damage. Recommended insecticide application.",
      id: 4,
    },
    {
      title: "Rice Blast Disease",
      date: "April 5, 2025",
      summary:
        "Fungal infection detected. Recommended fungicide treatment.",
      id: 5,
    },
    {
      title: "Soybean Aphid Infestation",
      date: "April 1, 2025",
      summary:
        "High aphid population detected. Recommended insecticide application.",
      id: 6,
    },
  ];

  const diagnosisCardsContainer = document.querySelector(".diagnosis-cards");
  diagnosisCardsContainer.innerHTML = ""; // Clear skeleton loaders

  diagnosisDataArray.forEach((diagnosis) => {
    const card = document.createElement("div");
    card.className =
      "bg-white shadow-md rounded-lg p-4 mb-4 border-l-4 border-green-500";

    card.innerHTML = `
      <div class="flex justify-between items-center mb-2">
        <h3 class="text-lg font-semibold text-gray-800">${diagnosis.title}</h3>
        <span class="text-sm text-gray-500">${diagnosis.date}</span>
      </div>
      <p class="text-gray-600 text-sm mb-2">${diagnosis.summary}</p>
      <a
        href="diagnosis-detail.html?id=${diagnosis.id}"
        class="text-green-700 text-sm hover:underline font-bold"
      >
        View Details
      </a>
    `;

    diagnosisCardsContainer.appendChild(card);
  });
  </script>

  <script>
    lucide.createIcons();
  </script>
</html>
